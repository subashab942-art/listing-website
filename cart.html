<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Cart | FurniHome</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background:#f5f5f5;
}

/* CART LAYOUT */
.cart-container{
    max-width:1100px;
    margin:40px auto;
    padding:20px;
    display:grid;
    grid-template-columns: 2fr 1fr;
    gap:30px;
}

/* CART ITEMS */
.cart-box{
    background:#fff;
    border-radius:14px;
    padding:25px;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
}

.cart-title{
    font-size:22px;
    margin-bottom:20px;
    color:#3D5A5E;
}

.cart-item{
    display:flex;
    gap:15px;
    padding:15px 0;
    border-bottom:1px solid #eee;
}

.cart-item:last-child{
    border-bottom:none;
}

.cart-item img{
    width:100px;
    height:100px;
    object-fit:cover;
    border-radius:10px;
}

.item-info{
    flex:1;
}

.item-info h4{
    margin:0 0 6px;
}

.price{
    color:#e63946;
    font-weight:bold;
}

.qty{
    margin-top:8px;
}

.qty button{
    width:28px;
    height:28px;
    border:none;
    background:#3D5A5E;
    color:#fff;
    border-radius:6px;
    cursor:pointer;
}

.qty span{
    margin:0 10px;
}

.remove{
    cursor:pointer;
    color:#999;
    font-size:14px;
}

/* SUMMARY */
.summary{
    background:#fff;
    border-radius:14px;
    padding:25px;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
    height:fit-content;
}

.summary h3{
    margin-top:0;
}

.summary-row{
    display:flex;
    justify-content:space-between;
    margin:12px 0;
}

.checkout-btn{
    width:100%;
    padding:14px;
    border:none;
    background:#3D5A5E;
    color:#fff;
    border-radius:10px;
    cursor:pointer;
    font-size:16px;
}

/* EMPTY CART */
.empty{
    text-align:center;
    padding:40px;
    color:#777;
}

/* MOBILE */
@media(max-width:768px){
    .cart-container{
        grid-template-columns:1fr;
    }
}
</style>
</head>

<body>

<!-- NAVBAR -->
<div id="nav"></div>

<!-- CART -->
<div class="cart-container">

    <!-- ITEMS -->
    <div class="cart-box">
        <h2 class="cart-title">Shopping Cart</h2>

        <div id="cartItems"></div>
    </div>

    <!-- SUMMARY -->
    <div class="summary">
        <h3>Order Summary</h3>

        <div class="summary-row">
            <span>Subtotal</span>
            <span id="subtotal">₹0</span>
        </div>

        <div class="summary-row">
            <span>Delivery</span>
            <span>₹200</span>
        </div>

        <hr>

        <div class="summary-row">
            <strong>Total</strong>
            <strong id="total">₹0</strong>
        </div>

        <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
    </div>

</div>

<script>
/* ACTIVE PAGE */
window.ACTIVE_PAGE = "cart";

/* LOAD NAVBAR */
fetch("nav.html")
.then(res => res.text())
.then(data => {
    document.getElementById("nav").innerHTML = data;

    document.querySelectorAll(".nav-center a").forEach(link => {
        link.classList.toggle(
            "active",
            link.dataset.page === window.ACTIVE_PAGE
        );
    });
});

/* SAMPLE CART DATA */
let cart = [
    {id:1, name:"Wooden Chair", price:1999, qty:1, img:"/flipkart/img/chair.webp"},
    {id:2, name:"Sofa Set", price:14999, qty:1, img:"/flipkart/img/sofa.webp"}
];

const cartItems = document.getElementById("cartItems");

/* RENDER CART */
function renderCart(){
    if(cart.length === 0){
        cartItems.innerHTML = `<div class="empty">Your cart is empty</div>`;
        document.getElementById("subtotal").innerText = "₹0";
        document.getElementById("total").innerText = "₹0";
        return;
    }

    cartItems.innerHTML = "";
    let subtotal = 0;

    cart.forEach((item,index)=>{
        subtotal += item.price * item.qty;

        cartItems.innerHTML += `
        <div class="cart-item">
            <img src="${item.img}">
            <div class="item-info">
                <h4>${item.name}</h4>
                <div class="price">₹${item.price}</div>

                <div class="qty">
                    <button onclick="changeQty(${index},-1)">-</button>
                    <span>${item.qty}</span>
                    <button onclick="changeQty(${index},1)">+</button>
                </div>

                <div class="remove" onclick="removeItem(${index})">Remove</div>
            </div>
        </div>
        `;
    });

    document.getElementById("subtotal").innerText = "₹" + subtotal;
    document.getElementById("total").innerText = "₹" + (subtotal + 200);
}

/* ACTIONS */
function changeQty(i,val){
    cart[i].qty += val;
    if(cart[i].qty < 1) cart[i].qty = 1;
    renderCart();
}

function removeItem(i){
    cart.splice(i,1);
    renderCart();
}

function checkout(){
    alert("Checkout feature coming soon!");
}

/* INIT */
renderCart();
</script>

</body>
</html>
